<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>ECOURSES - Online Courses HTML Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link th:href="@{/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-cookies.min.js"></script>

</head>

<body ng-app="myApp" ng-controller="myCtrl">
    <!-- Topbar Start -->
    <div class="container-fluid d-none d-lg-block">
        <div class="row align-items-center py-4 px-xl-5">
            <div class="col-lg-3">
                <a th:href="@{/courseOnline/index}" class="text-decoration-none">
                    <h1 class="m-0">
                        <span class="text-primary">Poly</span>Academy
                    </h1>
                </a>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-map-marker-alt text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Văn phòng của chúng
                            tôi</h6>
                        <small>22 Thường Thạnh, Cái Răng, Cần Thơ</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-envelope text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Email của chúng tôi</h6>
                        <small>PolyAcademy@fpt.edu.vn</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-phone text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Gọi cho chúng tôi</h6>
                        <small>+012 345 6789</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->
    <!-- Navbar Start -->
    <div class="container-fluid">
        <div class="row border-top px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a class="d-flex align-items-center justify-content-between bg-secondary w-100 text-decoration-none"
                    data-toggle="collapse" href="#navbar-vertical" style="height: 67px; padding: 0 30px;">
                    <h5 class="text-primary m-0">
                        <i class="fa fa-book-open mr-2"></i>Danh mục khoá học
                    </h5> <i class="fa fa-angle-down text-primary"></i>
                </a>
                <nav ng-controller="DanhMuc-Ctrl"
                    class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light"
                    id="navbar-vertical" style="width: calc(100% - 30px); z-index: 9;">
                    <div class="navbar-nav w-100" ng-repeat="loai in danhmuc">
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link" ng-click="showLoai(loai)"
                                data-toggle="dropdown">{{loai.tenLoaiKhoaHoc}}<i
                                    class="fa fa-angle-down float-right mt-1"></i></a>

                            <div class="dropdown-menu position-absolute bg-secondary border-0 rounded-0 w-100 m-0">
                                <div ng-repeat="khoahoc in khoaHoc" style="color: black;"
                                    ng-if="khoahoc.duyet == true && khoahoc.trangThai=='false'">
                                    <a href="detail/{{khoahoc.id}}"
                                        style="width: 100%; white-space: normal; display: block; color: black;"
                                        class="dropdown-item">{{khoahoc.tenKhoaHoc}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="col-lg-9">
                <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        <h1 class="m-0">
                            <span class="text-primary">Poly</span>Academy
                        </h1>
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav py-0">
                            <a th:href="@{/courseOnline/index}" class="nav-item nav-link ">Trang
                                chủ</a> <a th:href="@{/courseOnline/course}" class="nav-item nav-link ">Khoá
                                học</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" data-toggle="dropdown">Trang</a>
                                <div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
                                    <a th:href="@{/courseOnline/contact}" class="dropdown-item">Đăng ký nhà sáng tạo</a>

                                    <a th:href="@{/courseOnline/uploademo}" class="dropdown-item active">Đăng khoá
                                        học</a>

                                </div>
                            </div>
                        </div>
                        <ul class="navbar-nav">
                            <li th:if="${session.user} == null" class="nav-item"><a class="nav-link"
                                    th:href="@{/courseOnline/dangnhap}">Đăng nhập</a></li>
                            <li th:if="${session.user} == null" class="nav-item"><a class="nav-link"
                                    th:href="@{/courseOnline/dangky}">Đăng ký</a></li>
                        </ul>
                        <div class="nav-item dropdown" th:if="${session.user != null}">
                            <input type="text" id="idLogin" hidden th:value="${session.user.id}">

                            <style>
                                /* Tùy chỉnh CSS cho menu dropdown "Tài Khoản" */
                                .dropdown-menu {
                                    position: absolute;
                                    background-color: #ff6600;
                                    /* Màu nền */
                                    border: 1px solid #ff6600;
                                    /* Viền */
                                    width: 200px;
                                    /* Độ rộng */
                                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                                    /* Hiệu ứng bóng đổ */
                                }

                                .dropdown-item {
                                    color: #fff;
                                    /* Màu chữ */
                                    font-size: 14px;
                                    padding: 10px 20px;
                                }
                            </style>
                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown"
                                style="font-size: 19px; font-weight: bold," th:text="${session.user.hoTen}"></a>
                            <div class="dropdown-menu">
                                <a th:href="@{/courseOnline/updateAccount}" class="dropdown-item">Cập nhật tài khoản</a>
                                <a th:href="@{/Admin/User}" th:if="${session.admin != null}"
                                    class="dropdown-item">Admin</a>
                                <a th:href="@{/logoff}" class="dropdown-item">Đăng xuất</a>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>

        </div>
        <hr>
    </div>
    
    <!-- Navbar End -->

    <!-- Contact Start -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="bg-image"></div>
            <div class="text-center mb-5">
                <h3 class="text-primary text-uppercase mb-3"
                    style="letter-spacing: 5px; font-weight: bold; font-size: 1.5rem;">Đăng ký</h3>
                <h2 class="font-weight-bold text-dark" style="font-size: 3rem; color: #ff6600;">
                    <span style="font-family: 'Arial', sans-serif; color: #ff6600;">Nhà Sáng Tạo</span>

                </h2>
                <p class="lead">Hãy xác nhận để trở thành nhà sáng tạo của chúng tôi.</p>
            </div>
            <div class="row justify-content-center" >
                <div class="col-lg-8">
                    <div class="contact-form bg-secondary rounded p-5" style="background-color: #ff6600;">
                        <div id="success"></div>
                        <form name="sentMessage" id="contactForm" novalidate="novalidate" >
                            <div class="control-group">
                                <label for="videoTitle">
                                    <h4>Nhập tên của bạn:</h4>
                                </label>
                                <input type="text" class="form-control border-0 p-4" id="name"
                                    placeholder="Tên của bạn..." required="required"
                                    data-validation-required-message="Please enter your name" ng-model="name" />
                                <p class="help-block text-danger"></p>
                            </div>

                            <div class="control-group">
                                <label for="videoTitle">
                                    <h4>Nhập Email của bạn:</h4>
                                </label>
                                <input type="email" class="form-control border-0 p-4" id="email"
                                    placeholder="Email của bạn..." required="required"
                                    data-validation-required-message="Please enter your email" ng-model="email" />
                                <p class="help-block text-danger"></p>
                            </div>

                            <div class="text-center">
                                <button class="btn btn-primary py-3 px-5" ng-click="submit()" id="sendMessageButton">Gửi
                                    xác nhận</button>
                            </div>

                            <script>
                                const app = angular.module('myApp', []);

                                app.controller("myCtrl", function ($scope, $http, $window) {
                                    $scope.name = '';
                                    $scope.email = '';
                                    $scope.nameError = '';
                                    $scope.emailError = '';
                                    $scope.idLogin = document.getElementById("idLogin").value;

                                    $scope.form = {
                                        name: '',
                                        email: ''
                                    };

                                    $scope.selectUser = function () {
                                        $http.get('/rest/admin/NguoiDung/' + $scope.idLogin)
                                            .then(function (response) {
                                                $scope.user = response.data;
                                                console.log($scope.user);
                                                $scope.name = $scope.user.hoTen;
                                                $scope.email = $scope.user.email;
                                            })
                                            .catch(function (error) {
                                                console.error('Lỗi khi gửi yêu cầu:', error);
                                            });
                                    }
                                    $scope.selectUser();
                                    $scope.displayError = function (input, message) {
                                        input.$setValidity('custom', false);
                                        if (input.$name === 'name') {
                                            $scope.nameError = message;
                                        } else if (input.$name === 'email') {
                                            $scope.emailError = message;
                                        }
                                    };

                                    $scope.clearErrors = function () {
                                        $scope.nameError = '';
                                        $scope.emailError = '';
                                    };

                                    $scope.isValidEmail = function (email) {
                                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                                        return emailRegex.test(email);
                                    };

                                    $scope.showSuccessMessage = function (title, message) {
                                        Swal.fire({
                                            icon: 'success',
                                            title: title,
                                            text: message,
                                            confirmButtonText: 'Đóng',
                                        });
                                    };

                                    $scope.showFailureMessage = function (title, message) {
                                        Swal.fire({
                                            icon: 'error',
                                            title: title,
                                            text: message,
                                            confirmButtonText: 'Đóng',
                                        });
                                    };

                                    $scope.submit = function () {
                                        const name = $scope.name;
                                        const email = $scope.email;

                                        if (!name || !email) {
                                            $window.alert("Vui lòng điền đầy đủ thông tin tên và email.");
                                            return;
                                        }

                                        if (!$scope.isValidEmail(email)) {
                                            $scope.displayError($scope.form.email, "Vui lòng nhập đúng địa chỉ email");
                                            return;
                                        }

                                        // Clear previous errors
                                        $scope.clearErrors();

                                        const data = {
                                            hoTen: name,
                                            email: email
                                        };

                                        $http.put("/rest/admin/NguoiDung/" + $scope.idLogin, data)
                                            .then(function (response) {
                                                $scope.showSuccessMessage("Thành công", "Bạn đã đăng ký thành công!");
                                                $window.location.href = "/courseOnline/contact";
                                            })
                                            .catch(function (error) {
                                                $scope.showFailureMessage("Lỗi", "Đã có lỗi xảy ra, vui lòng thử lại sau!");
                                                console.error('Lỗi khi gửi yêu cầu:', error);
                                            });
                                    };
                                });

                            </script>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Contact End -->
<style>
    /* CSS để thêm hiệu ứng mờ cho ảnh */
    .bg-image {
        position: absolute;
        top: 15%;
        left: 0;
      width: 110%;
        height: 110%;
        background: url('/img/background1.jpg') center center no-repeat;
        background-size: cover;
 filter: blur(1px); /* Điều chỉnh giá trị để tăng/giảm độ mờ */
        z-index: -1; /* Đảm bảo ảnh nằm dưới phần content */
    }
</style>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white py-5 px-sm-3 px-lg-5">
        <div class="row pt-5">
            <div class="col-lg-7 col-md-12">
                <div class="row">
                    <div class="col-md-6 mb-5">
                        <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">Liên hệ</h5>
                        <p><i class="fa fa-map-marker-alt mr-2"></i>22 Thường Thạnh, Khu dân cư Hoàng Quân, Q. Cái Răng,
                            TP. Cần Thơ</p>
                        <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
                        <p><i class="fa fa-envelope mr-2"></i>PolyAcademy@fpt.edu.vn</p>
                        <div class="d-flex justify-content-start mt-4">
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i
                                    class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-light btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                    <div class="col-md-6 mb-5">
                        <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">Khoá học của chúng tôi
                        </h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Thiết kế trang
                                Web</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Phát triển phần
                                mềm</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Kỹ năng học
                                tập</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Pháp luật</a>
                            <a class="text-white" href="#"><i class="fa fa-angle-right mr-2"></i>Tiếng Anh</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col-md-12 mb-5">
                <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">PolyAcademy</h5>
                <p>PolyAcademy - Nền tảng lớp học trực tuyến hàng đầu, cung cấp giải pháp giáo dục toàn diện ngoài
                    trường học cho tất cả học sinh, sinh viên trên cả nước với chất lượng tốt nhất!</p>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 30px;"
                            placeholder="Hãy gửi Email cho chúng tôi">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-4">Đăng ký</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>


    <!-- Template Javascript -->
    <script th:src="@{/js/main.js}"></script>
    <script th:src="@{/js/loai.js}"></script>

</body>

</html>